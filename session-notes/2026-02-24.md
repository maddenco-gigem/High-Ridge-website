# Session Notes - 2026-02-24

## Summary
Replaced Acuity Scheduling with TidyCal across the entire site. All booking buttons now open an on-site popup modal with bot prevention, and three pages (home, services, about) have the calendar embedded directly inline in a two-column CTA layout. Also added a Crystal Capital Partners card to the Client Hub, updated team titles, and made several design refinements.

---

## Completed

### TidyCal Booking Modal (all pages)
- Created `js/booking-modal.js` — self-contained popup modal that loads TidyCal (`initial-consultation`) in an iframe
- Bot prevention layers:
  - **Honeypot fields**: Two hidden inputs that block the modal if auto-filled
  - **Time gate**: Page must be open at least 3 seconds before the iframe loads
  - **Human interaction tracking**: Monitors mouse, touch, scroll, and keyboard activity
  - **Rate limiting**: Max 5 opens per minute with 2-second cooldown between opens
- Modal features: backdrop blur overlay, close on X / Escape / overlay click, responsive sizing
- Script added to all 8 HTML pages + exit popup in `main.js`

### Acuity → TidyCal Migration (all pages)
- Replaced all 25+ `href="https://highridgeadvisory.as.me/"` links with `href="#" data-booking`
- Removed `target="_blank" rel="noopener noreferrer"` from all booking links (was causing new tab instead of popup)
- Updated contact page FAQ schema text to remove Acuity URL reference
- TidyCal path: `high-ridge-advisory/initial-consultation`

### Inline Calendar Embeds (home, services, about)
- Home page CTA: Two-column layout — calendar on left, copy on right
- Services page CTA: Two-column layout — copy on left, calendar on right
- About page CTA: Two-column layout — copy on left, calendar on right (mirrors services)
- Responsive: Copy stacks on top, calendar below on tablet/mobile (≤968px)
- Calendar container: `max-height: 350px` with `overflow-y: auto` scrollbar
- Booking buttons removed from these CTA sections (calendar is the CTA)
- TidyCal `embed.js` loaded async after each inline embed section

### CSS additions (`styles.css`)
- `.cta-two-col` — two-column grid layout for CTA sections
- `.cta-calendar` — white rounded container with max-height and scroll
- `.cta-copy` — flex column centered layout for CTA text
- Responsive breakpoint at 968px stacks to single column with copy on top
- Team cards: `.card-team` and `.card-team-content` now use flexbox with `::before` pseudo-element to vertically center name/title while keeping View Bio buttons aligned across all cards

### Crystal Capital Partners — Client Hub
- Downloaded logo from The Wealth Mosaic (`images/crystal-capital-logo.png`, 331x101 PNG)
- Added investment card to `client-portal.html` with sign-in link to Orion (`https://login.orionadvisor.com/`)
- Updated grid from `grid-3` to `grid-4` for four investment cards

### Team Title Updates (about page)
- Eric Caisse: "Chief Investment Officer & Partner" → "Chief Investment Officer & Partner / Trusted Partner at CAG" (two lines)
- Kyle Harrison: "Advisor" → "Financial Advisor / Trusted Partner at Radian Partners" (two lines)

### Other Changes
- Home page hero background changed from `hero-bg.webp` to `about-hero.webp` (matching about page per Jay's request)
- Created `images/jay-madden-square.jpg` — 768x768 square crop from top of original portrait
- Added security note below contact form: "Please do not submit sensitive information through this form..."
- Contact form note links to `client-portal.html` as the secure client portal

---

## Files Changed
| File | Changes |
|------|---------|
| `js/booking-modal.js` | **New** — TidyCal popup modal with bot prevention |
| `images/crystal-capital-logo.png` | **New** — Crystal Capital Partners logo |
| `images/jay-madden-square.jpg` | **New** — Square cropped headshot |
| `index.html` | TidyCal inline embed in CTA, hero bg change, booking link updates |
| `services.html` | TidyCal inline embed in CTA, booking link updates |
| `about.html` | TidyCal inline embed in CTA, team title updates, booking link updates |
| `client-portal.html` | Crystal Capital card, grid-4, booking link updates |
| `contact.html` | Security note on form, schema text update, booking link updates |
| `thank-you.html` | Booking link updates |
| `404.html` | Booking link updates |
| `disclosures.html` | Booking link updates |
| `js/main.js` | Exit popup booking link update |
| `css/styles.css` | CTA two-column layout, team card alignment |

---

## External URLs Used
| Platform | URL | Notes |
|----------|-----|-------|
| TidyCal (popup) | `https://tidycal.com/high-ridge-advisory/initial-consultation` | Loaded via iframe in modal |
| TidyCal (inline) | embed.js with `data-path="high-ridge-advisory/initial-consultation"` | Home, services, about CTAs |
| Crystal Capital | `https://login.orionadvisor.com/` | Card links to Orion per Jay's request |
| Crystal Capital logo | `https://thewealthmosaic.s3.amazonaws.com/media/Logo_Crystal_Capital_Partners.png` | Source of downloaded logo |
